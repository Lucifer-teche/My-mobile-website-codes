<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Multiverse</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      overflow: hidden;
      height: 100vh;
      background: radial-gradient(circle at center, #000010 20%, #000 100%);
      cursor: url('https://raw.githubusercontent.com/Lucifer-teche/Rocket-cursor-img/main/Normal.cur'), auto;
    }
    button, a, #soundControl, canvas {
      cursor: url('https://raw.githubusercontent.com/Lucifer-teche/Rocket-cursor-img/main/Normal.cur'), auto !important;
    }
    #webGLContainer { width: 100%; height: 100%; }
    #soundControl {
      position: fixed;
      bottom: 25px;
      right: 25px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: radial-gradient(circle at center, #00ffff 0%, #0044ff 70%);
      box-shadow: 0 0 15px #00ffff;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: all 0.4s ease;
      z-index: 10;
    }
    #soundControl:hover {
      box-shadow: 0 0 30px #00ffff;
      transform: scale(1.1);
    }
    #soundControl .icon { position: relative; width: 22px; height: 20px; }
    .speaker { width: 8px; height: 12px; background: white; position: absolute; left: 0; top: 4px; border-radius: 2px; }
    .waves {
      position: absolute;
      right: 0;
      top: 4px;
      width: 8px;
      height: 12px;
      border-right: 2px solid white;
      border-top: 2px solid white;
      border-bottom: 2px solid white;
      border-radius: 50%;
      transform: rotate(-45deg);
      animation: wavePulse 1s infinite ease-in-out;
    }
    @keyframes wavePulse {
      0%, 100% { opacity: 0.6; transform: scale(1) rotate(-45deg); }
      50% { opacity: 1; transform: scale(1.2) rotate(-45deg); }
    }
    .sound-off .waves { display: none; }
    .sound-off {
      background: radial-gradient(circle at center, #444 0%, #111 70%);
      box-shadow: 0 0 10px #222;
    }
    .sound-on::after {
      content: "";
      position: absolute;
      border-radius: 50%;
      width: 100%;
      height: 100%;
      animation: pulseGlow 2s infinite;
      top: 0;
      left: 0;
      pointer-events: none;
    }
    @keyframes pulseGlow {
      0% { box-shadow: 0 0 10px 2px rgba(0, 255, 255, 0.6); }
      50% { box-shadow: 0 0 25px 6px rgba(0, 255, 255, 0.9); }
      100% { box-shadow: 0 0 10px 2px rgba(0, 255, 255, 0.6); }
    }
    .cursor-trail {
      position: fixed;
      pointer-events: none;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(0, 255, 255, 0.6);
      mix-blend-mode: screen;
      z-index: 9999;
    }
  </style>
</head>
<body>
  <div id="webGLContainer"></div>

  <!-- ðŸŽ¶ Ambient Space Music -->
  <audio id="bgMusic" src="https://cdn.pixabay.com/audio/2023/04/23/audio_9efbc4cce2.mp3" loop></audio>
  <!-- ðŸ’¨ Hover Whoosh Sound -->
  <audio id="hoverSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_44615b3f2f.mp3?filename=woosh-2-6466.mp3" preload="auto"></audio>

  <!-- ðŸŽµ Sound Control -->
  <div id="soundControl" class="sound-off" title="Unmute Sound">
    <div class="icon">
      <div class="speaker"></div>
      <div class="waves"></div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
  <script>
    // Entire JS content inlined
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 2000);
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x000000, 1);
    document.getElementById('webGLContainer').appendChild(renderer.domElement);

    const ambientLight = new THREE.AmbientLight(0x444444);
    scene.add(ambientLight);
    const pointLight = new THREE.PointLight(0xffffff, 2, 1000);
    scene.add(pointLight);

    const starCount = 8000;
    const starGeometry = new THREE.BufferGeometry();
    const starPositions = new Float32Array(starCount * 3);
    for (let i = 0; i < starCount; i++) {
      starPositions[i*3] = (Math.random()-0.5)*4000;
      starPositions[i*3+1] = (Math.random()-0.5)*4000;
      starPositions[i*3+2] = (Math.random()-0.5)*4000;
    }
    starGeometry.setAttribute('position', new THREE.BufferAttribute(starPositions, 3));
    const stars = new THREE.Points(starGeometry, new THREE.PointsMaterial({ color: 0xffffff, size: 1 }));
    scene.add(stars);

    const core = new THREE.Mesh(new THREE.SphereGeometry(3,64,64), new THREE.MeshBasicMaterial({ color: 0x00ffff }));
    scene.add(core);
    const glow = new THREE.Mesh(new THREE.SphereGeometry(4,64,64), new THREE.MeshBasicMaterial({ color:0x00ffff, transparent:true, opacity:0.2 }));
    scene.add(glow);

    function createUniverse(x,y,z,color){
      const group = new THREE.Group();
      const core = new THREE.Mesh(new THREE.SphereGeometry(2,32,32), new THREE.MeshPhongMaterial({ color, emissive: color, emissiveIntensity: 0.5 }));
      core.userData = { baseColor: color };
      group.add(core);
      for(let i=0;i<4;i++){
        const planet = new THREE.Mesh(new THREE.SphereGeometry(Math.random()*0.5+0.3,32,32), new THREE.MeshBasicMaterial({ color: Math.random()*0xffffff }));
        planet.userData = { orbitRadius: Math.random()*4+2, angle: Math.random()*Math.PI*2, speed:0.005+Math.random()*0.01 };
        group.add(planet);
      }
      group.position.set(x,y,z);
      scene.add(group);
      return group;
    }

    const universes = [
      createUniverse(15,10,-30,0xff00ff),
      createUniverse(-20,-5,-50,0x00ff99),
      createUniverse(30,-15,-70,0xffaa00),
      createUniverse(-40,25,-90,0x0099ff)
    ];

    camera.position.z = 20;

    let mouseX=0, mouseY=0;
    document.addEventListener('mousemove', e => {
      mouseX = (e.clientX / window.innerWidth) * 2 - 1;
      mouseY = -(e.clientY / window.innerHeight) * 2 + 1;
    });

    const bgMusic = document.getElementById("bgMusic");
    const hoverSound = document.getElementById("hoverSound");
    const soundControl = document.getElementById("soundControl");
    let soundEnabled=false, musicStarted=false;

    soundControl.addEventListener("click", ()=>{
      soundEnabled=!soundEnabled;
      if(soundEnabled){
        soundControl.classList.add("sound-on");
        soundControl.classList.remove("sound-off");
        soundControl.title="Mute Sound";
        startMusic();
      } else {
        soundControl.classList.remove("sound-on");
        soundControl.classList.add("sound-off");
        soundControl.title="Unmute Sound";
        gsap.to(bgMusic,{volume:0,duration:1.5});
      }
    });

    function startMusic(){
      if(!musicStarted){
        musicStarted=true;
        bgMusic.volume=0;
        bgMusic.play().catch(()=>{});
        gsap.to(bgMusic,{volume:0.5,duration:3});
      } else {
        gsap.to(bgMusic,{volume:0.5,duration:1.5});
      }
    }

    document.addEventListener("click",()=>{ if(!musicStarted && soundEnabled) startMusic(); });

    let mouse = new THREE.Vector2();
    let raycaster = new THREE.Raycaster();
    let hoveredUniverse=null;
    let activeUniverse=null;

    document.addEventListener('mousemove', e => {
      mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
      mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
    });

    document.addEventListener('click', ()=>{
      if(hoveredUniverse && !activeUniverse){
        activeUniverse=hoveredUniverse;
        const target = hoveredUniverse.parent.position;
        gsap.to(camera.position,{duration:2,x:target.x,y:target.y,z:target.z+5,ease:"power2.inOut"});
      } else if(activeUniverse){
        gsap.to(camera.position,{duration:2,x:0,y:0,z:20,ease:"power2.inOut", onComplete:()=>activeUniverse=null});
      }
    });

    function animate(){
      requestAnimationFrame(animate);
      stars.rotation.x+=0.0003;
      stars.rotation.y+=0.0002;
      core.rotation.y+=0.01;
      glow.rotation.y+=0.005;

      raycaster.setFromCamera(mouse,camera);
      const intersects = raycaster.intersectObjects(universes.map(u=>u.children[0]));

      if(intersects.length>0){
        const hit = intersects[0].object;
        if(hoveredUniverse!==hit){
          if(hoveredUniverse){
            hoveredUniverse.material.emissive.setHex(hoveredUniverse.userData.baseColor);
            hoveredUniverse.scale.set(1,1,1);
          }
          hoveredUniverse=hit;
          gsap.to(hit.scale,{duration:0.5,x:2,y:2,z:2});
          gsap.to(hit.material.emissive,{r:1,g:1,b:1,duration:0.3});
          if(soundEnabled){
            hoverSound.currentTime=0;
            hoverSound.play().catch(()=>{});
          }
        }
      } else if(hoveredUniverse){
        hoveredUniverse.material.emissive.setHex(hoveredUniverse.userData.baseColor);
        gsap.to(hoveredUniverse.scale,{duration:0.5,x:1,y:1,z:1});
        hoveredUniverse=null;
      }

      universes.forEach(u=>{
        u.rotation.y+=0.002;
        u.children.forEach(obj=>{
          if(obj.userData.orbitRadius){
            obj.userData.angle+=obj.userData.speed;
            obj.position.x=Math.cos(obj.userData.angle)*obj.userData.orbitRadius;
            obj.position.z=Math.sin(obj.userData.angle)*obj.userData.orbitRadius;
          }
        });
      });

      camera.position.x+=(mouseX*10-camera.position.x)*0.05;
      camera.position.y+=(mouseY*10-camera.position.y)*0.05;

      renderer.render(scene,camera);
    }
    animate();

    const trailCount=8;
    const trails=[];
    for(let i=0;i<trailCount;i++){
      const div=document.createElement('div');
      div.className='cursor-trail';
      document.body.appendChild(div);
      trails.push({el:div,x:0,y:0});
    }

    document.addEventListener('mousemove',e=>{
      trails[0].x=e.clientX;
      trails[0].y=e.clientY;
    });

    function updateTrail(){
      for(let i=1;i<trails.length;i++){
        trails[i].x+=(trails[i-1].x-trails[i].x)*0.3;
        trails[i].y+=(trails[i-1].y-trails[i].y)*0.3;
      }
      trails.forEach(t=>{
        t.el.style.transform=`translate3d(${t.x}px,${t.y}px,0)`;
      });
      requestAnimationFrame(updateTrail);
    }
    updateTrail();

    window.addEventListener('resize', ()=>{
      camera.aspect=window.innerWidth/window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth,window.innerHeight);
    });
  </script>
</body>
</html>
